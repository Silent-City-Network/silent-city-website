<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silent City Partner - Werden Sie Teil der Zukunft</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-bg: #111827;
            --brand-yellow: #FBBF24;
            --light-text: #F3F4F6;
            --dark-text: #1F2937;
        }
        body {
            font-family: 'Raleway', sans-serif;
            background-color: var(--dark-bg);
            color: var(--light-text);
        }
        h1, h2, h3, h4 {
            font-family: 'Raleway', sans-serif;
            font-weight: 700; /* Bold, not Black, for a more professional feel */
        }
        .font-black {
            font-weight: 900;
        }
        .yellow-highlight {
            color: var(--brand-yellow);
        }
        .cta-button {
            transition: all 0.3s ease;
            background-color: var(--brand-yellow);
            color: var(--dark-text);
            font-weight: 700;
        }
        .cta-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.2);
        }
        .cta-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        /* Consent Banner Styles */
        #consent-banner {
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body class="bg-gray-900">

    <!-- Header -->
    <header class="bg-gray-900/80 backdrop-blur-md shadow-lg">
        <div class="container mx-auto px-6 py-5 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-white">Silent<span class="text-yellow-400">City</span> <span class="text-xl font-semibold text-gray-400">Partner</span></h1>
            <a href="index.html" id="main-page-link" class="text-yellow-400 font-semibold hover:text-white transition-colors">Zur Hauptseite</a>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="py-20 md:py-32 bg-gray-800">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-5xl font-black text-white mb-4">Werden Sie zum Hotspot für Fokus und Produktivität.</h2>
                <p class="text-xl text-gray-300 max-w-3xl mx-auto mb-8">Silent City befindet sich in der Startphase und wir suchen nach visionären Partnern in Berlin. Bieten Sie Ihren Kunden einen einzigartigen Service, generieren Sie zusätzliche Einnahmen und positionieren Sie sich als Vorreiter – ohne Kosten oder Aufwand für Sie.</p>
                <a href="#contact" id="hero-cta-partner" class="cta-button text-lg py-4 px-12 rounded-lg shadow-lg">Jetzt unverbindlich informieren</a>
            </div>
        </section>

        <!-- How it Works Section -->
        <section class="py-20 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl font-bold text-white">Eine Partnerschaft, die einfach ist.</h2>
                    <p class="text-gray-400 mt-2">Wir machen es Ihnen so leicht wie möglich.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-12 text-center">
                    <div class="flex flex-col items-center">
                        <div class="flex items-center justify-center h-24 w-24 rounded-full bg-yellow-400 text-gray-900 mb-6">
                            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">1. Platz finden</h3>
                        <p class="text-gray-400">Sie stellen eine Fläche von ca. 2-3m² mit Strom- und Internetanschluss zur Verfügung. Das ist alles.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex items-center justify-center h-24 w-24 rounded-full bg-yellow-400 text-gray-900 mb-6">
                            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">2. Wir liefern & installieren</h3>
                        <p class="text-gray-400">Unser Team liefert den Pod, installiert ihn fachgerecht und sorgt für die komplette technische Anbindung. Für Sie entstehen keine Kosten.</p>
                    </div>
                    <div class="flex flex-col items-center">
                        <div class="flex items-center justify-center h-24 w-24 rounded-full bg-yellow-400 text-gray-900 mb-6">
                            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01"></path></svg>
                        </div>
                        <h3 class="text-2xl font-bold text-white mb-2">3. Sie verdienen mit</h3>
                        <p class="text-gray-400">Sie erhalten eine attraktive Beteiligung an allen Umsätzen, die der Pod an Ihrem Standort generiert. Wir kümmern uns um Wartung und Reinigung.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Win-Win Section -->
        <section class="py-20 bg-gray-800">
            <div class="container mx-auto px-6">
                <div class="md:flex items-center gap-16">
                    <div class="md:w-1/2">
                        <img src="pod-concept.png?q=80&w=2787&auto=format&fit=crop" alt="Ein Silent Pod in einem modernen Café" class="rounded-lg shadow-2xl">
                    </div>
                    <div class="md:w-1/2 mt-8 md:mt-0">
                        <h2 class="text-4xl font-bold text-white mb-4">Ihr Gewinn. Unser Versprechen.</h2>
                        <ul class="space-y-4 text-gray-300 text-lg">
                            <li class="flex items-start"><svg class="w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path></svg><div><strong class="text-white">Mehr Kunden, mehr Umsatz:</strong> Pod-Nutzer sind Ihre Kunden. Sie kaufen Kaffee, Snacks und verweilen länger.</div></li>
                            <li class="flex items-start"><svg class="w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg><div><strong class="text-white">Innovatives Image:</strong> Zeigen Sie, dass Sie am Puls der Zeit sind und die Bedürfnisse der modernen Arbeitswelt verstehen.</div></li>
                            <li class="flex items-start"><svg class="w-6 h-6 text-yellow-400 mr-3 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><div><strong class="text-white">Null Risiko, null Aufwand:</strong> Wir tragen alle Kosten für Hardware, Software, Installation und Wartung. Sie profitieren einfach mit.</div></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 bg-gray-900">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl font-bold text-white">Lassen Sie uns reden.</h2>
                    <p class="text-gray-400 mt-2 max-w-2xl mx-auto">Wir sind gespannt auf Ihren Standort. Füllen Sie das Formular aus und wir melden uns umgehend für ein unverbindliches Gespräch.</p>
                </div>
                <div class="max-w-2xl mx-auto">
                    <form id="partner-form">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                            <div>
                                <label for="name" class="block text-gray-300 font-semibold mb-2">Ihr Name</label>
                                <input type="text" id="name" name="name" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-yellow-400 text-white">
                            </div>
                            <div>
                                <label for="location-name" class="block text-gray-300 font-semibold mb-2">Name Ihres Standorts (Café, Hotel, etc.)</label>
                                <input type="text" id="location-name" name="location-name" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-yellow-400 text-white">
                            </div>
                        </div>
                        <div class="mb-6">
                            <label for="email" class="block text-gray-300 font-semibold mb-2">E-Mail Adresse</label>
                            <input type="email" id="email" name="email" required class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-yellow-400 text-white">
                        </div>
                        <div class="mb-6">
                            <label for="message" class="block text-gray-300 font-semibold mb-2">Ihre Nachricht (optional)</label>
                            <textarea id="message" name="message" rows="4" class="w-full p-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-yellow-400 text-white resize-none"></textarea>
                        </div>
                        <div class="flex items-center my-4">
                            <input type="checkbox" id="privacy-consent-partner" class="h-4 w-4 text-yellow-400 bg-gray-700 border-gray-600 rounded focus:ring-yellow-500">
                            <label for="privacy-consent-partner" class="ml-2 text-sm text-gray-400">Ich habe die <a href="datenschutz.html" target="_blank" class="underline hover:text-yellow-400">Datenschutzerklärung</a> gelesen und stimme der Verarbeitung meiner Daten zu.</label>
                        </div>
                        <div class="text-center">
                            <button type="submit" id="partner-submit-button" class="cta-button text-lg py-4 px-16 rounded-lg shadow-lg" disabled>Anfrage senden</button>
                        </div>
                    </form>
                    <div id="form-success" class="mt-8 text-center p-4 bg-green-900/50 border border-green-400 text-green-200 rounded-lg" style="display: none;">
                        <p class="font-bold">Vielen Dank! Wir haben Ihre Anfrage erhalten und melden uns in Kürze bei Ihnen.</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Consent Banner -->
    <div id="consent-banner" class="fixed bottom-0 left-0 right-0 bg-gray-900/80 backdrop-blur-md p-5 shadow-2xl z-50" style="display: none;">
        <div class="container mx-auto md:flex items-center justify-between">
            <p class="text-gray-300 mb-4 md:mb-0 md:mr-6">Wir nutzen Cookies und ähnliche Technologien, um zu verstehen, wie unsere Seite genutzt wird und um das Nutzererlebnis zu verbessern. Das hilft uns, die richtigen Standorte für unsere Pods zu finden. Sind Sie damit einverstanden?</p>
            <div class="flex-shrink-0 flex gap-4">
                <button id="consent-accept" class="bg-yellow-400 text-gray-900 font-bold py-2 px-6 rounded-lg">Akzeptieren</button>
                <button id="consent-decline" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg">Ablehnen</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black py-10">
        <div class="container mx-auto px-6 text-center text-gray-500">
            <p>&copy; 2025 Silent City. Alle Rechte vorbehalten.</p>
            <div class="mt-4">
                <a href="impressum.html" target="_blank" id="impressum-link-partner" class="hover:text-yellow-400 mx-3">Impressum</a>
                <a href="datenschutz.html" target="_blank" id="datenschutz-link-partner" class="hover:text-yellow-400 mx-3">Datenschutz</a>
            </div>
        </div>
    </footer>

    <script>
        // --- CONFIG ---
        const API_URL = 'http://localhost:3000';
        const CONSENT_KEY = 'silentCityConsent';

        // --- TRACKING LOGIC (will only be initialized after consent) ---
        let isTrackingInitialized = false;

        function initializeTracking() {
            if (isTrackingInitialized) return;

            function getOrSetUserId() {
                let userId = localStorage.getItem('silentCityUserId');
                if (!userId) {
                    userId = crypto.randomUUID();
                    localStorage.setItem('silentCityUserId', userId);
                }
                return userId;
            }

            async function trackAction(action, details = {}) {
                if (localStorage.getItem(CONSENT_KEY) !== 'granted') return;
                const userId = getOrSetUserId();
                try {
                    await fetch(`${API_URL}/track`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ userId, action, details })
                    });
                } catch (error) {
                    console.error('Tracking error:', error);
                }
            }
            
            window.trackAction = trackAction;

            trackAction('page_view', { page: 'partner' });
            
            document.getElementById('main-page-link').addEventListener('click', () => trackAction('main_page_link_clicked'));
            document.getElementById('hero-cta-partner').addEventListener('click', () => trackAction('hero_cta_partner_clicked'));
            document.getElementById('impressum-link-partner').addEventListener('click', () => trackAction('impressum_link_clicked_partner'));
            document.getElementById('datenschutz-link-partner').addEventListener('click', () => trackAction('datenschutz_link_clicked_partner'));
            document.getElementById('partner-form').addEventListener('submit', () => trackAction('partner_form_submitted'));

            isTrackingInitialized = true;
            console.log("Tracking initialized for partner page.");
        }

        // --- CONSENT MANAGEMENT ---
        document.addEventListener('DOMContentLoaded', () => {
            const consent = localStorage.getItem(CONSENT_KEY);
            const consentBanner = document.getElementById('consent-banner');

            if (consent === 'granted') {
                initializeTracking();
            } else if (consent === 'denied') {
                // Do nothing
            } else {
                consentBanner.style.display = 'block';
            }

            document.getElementById('consent-accept').addEventListener('click', () => {
                localStorage.setItem(CONSENT_KEY, 'granted');
                consentBanner.style.opacity = '0';
                setTimeout(() => consentBanner.style.display = 'none', 500);
                initializeTracking();
            });

            document.getElementById('consent-decline').addEventListener('click', () => {
                // localStorage.setItem(CONSENT_KEY, 'denied');
                consentBanner.style.opacity = '0';
                setTimeout(() => consentBanner.style.display = 'none', 500);
            });
        });

        // --- FORM SUBMISSION (does not depend on tracking consent) ---
        const partnerForm = document.getElementById('partner-form');
        const formSuccessMessage = document.getElementById('form-success');
        const partnerSubmitButton = document.getElementById('partner-submit-button');
        const partnerConsentCheckbox = document.getElementById('privacy-consent-partner');

        partnerConsentCheckbox.addEventListener('change', () => {
            partnerSubmitButton.disabled = !partnerConsentCheckbox.checked;
        });

        partnerForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            if(partnerSubmitButton.disabled) return;

            const name = document.getElementById('name').value;
            const locationName = document.getElementById('location-name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            const userId = localStorage.getItem('silentCityUserId') || 'consent_not_given';

            const formData = { name, locationName, email, message, userId };

            try {
                const response = await fetch(`${API_URL}/partner`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(formData)
                });
                if (!response.ok) throw new Error('Partner form submission failed');
                partnerForm.style.display = 'none';
                formSuccessMessage.style.display = 'block';
            } catch (error) {
                console.error('Partner form submission error:', error);
                alert('Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.');
            }
        });
    </script>

</body>
</html>
