<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Silent City - Dein Fokus-Pod in der Stadt</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://t7cbb884b.emailsys1a.net/form/292/877/eaab846616/popup.js?_g=1752443255" async></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@400;600;700;900&display=swap" rel="stylesheet">
    <!-- PostHog Snippet -->
    <script>
        !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
        // HIER IHRE POSTHOG DATEN EINFÜGEN
        const POSTHOG_API_KEY = "YOUR_POSTHOG_API_KEY"; // z.B. "phc_..."
        const POSTHOG_HOST = "https://eu.posthog.com"; // z.B. "https://eu.posthog.com"
    </script>
    <style>
        :root {
            --dark-bg: #111827; /* Dark Slate */
            --brand-yellow: #FBBF24; /* Amber 400 */
            --brand-bordeaux: #991B1B; /* Red 800 */
            --light-text: #F3F4F6; /* Gray 100 */
            --dark-text: #1F2937; /* Gray 800 */
        }
        body {
            font-family: 'Raleway', sans-serif;
            background-color: var(--dark-bg);
            color: var(--light-text);
            font-weight: 400; /* Set base font weight to normal */
        }
        h1, h2, h3, h4 {
            font-family: 'Raleway', sans-serif;
            font-weight: 900; /* Black for all headings */
        }
        .font-bold {
            font-weight: 700;
        }
        .font-semibold {
            font-weight: 600;
        }
        .font-black {
            font-weight: 900;
        }
        .hero-bg {
            background-image: url('header.png');
            background-size: cover;
            background-position: center;
        }
        .cta-button {
            transition: all 0.3s ease;
            background-color: var(--brand-yellow);
            color: var(--dark-text);
            font-weight: 700;
        }
        .cta-button:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(251, 191, 36, 0.2);
        }
        .cta-button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        .section-fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .section-fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .highlight-bordeaux {
            color: var(--brand-bordeaux);
            font-weight: 900;
        }
        .yellow-highlight {
            color: var(--brand-yellow);
        }
        #map-placeholder {
            cursor: pointer;
            border-radius: 45px;
        }
        #map-placeholder:hover {
            transform: scale(1.02);
        }
        #consent-banner, #opt-out-modal {
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body class="bg-gray-900 relative">

<!-- Static Partner Button -->
<div class="absolute top-0 right-0 p-4 md:p-8 z-20">
    <a href="partner.html" id="partner-link" class="bg-gray-900/50 backdrop-blur-sm text-yellow-400 font-semibold py-2 px-5 border border-yellow-400 rounded-lg hover:bg-yellow-400 hover:text-gray-900 transition-colors duration-300">Partner werden</a>
</div>

<!-- Hero Section -->
<section class="hero-bg text-white min-h-screen flex items-center justify-center pt-20 relative">
    <div class="bg-black/60 w-full h-full absolute top-0 left-0"></div>
    <div class="text-center z-10 p-6">
        <h1 class="text-5xl md:text-9xl font-black mb-4 leading-tight">Silent<span class="text-yellow-400">City</span> </h1>
        <h2 class="text-4xl md:text-5xl font-black mb-8">Genau hier, genau jetzt.<br /><span class="text-yellow-400">Nur für dich</span></h2>
        <p class="text-lg md:text-xl mb-10 max-w-3xl mx-auto text-gray-200">Buche deine private Kabine für Fokus, Anrufe oder eine kreative Auszeit. Mitten in deinem Lieblingscafé, der Bibliothek oder wo immer du sie brauchst. Minutengenau abrechenbar.</p>
        <a href="#validation-gate" id="hero-cta" class="cta-button text-lg py-4 px-12 rounded-lg shadow-lg">
            Finde deinen Pod
        </a>
    </div>
</section>

<!-- Problem Section -->
<section class="py-20 bg-gray-800 section-fade-in">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-4xl font-black text-white mb-4">Die Stadt ist laut. Dein Kopf muss es nicht sein.</h2>
        <p class="text-gray-300 max-w-2xl mx-auto mb-12">Du liebst die Energie der Stadt, aber für Deep Work oder vertrauliche Calls brauchst du Ruhe. Cafés, Co-Working-Spaces und das Home-Office stoßen an ihre Grenzen.</p>
        <div class="grid md:grid-cols-3 gap-8 text-gray-300">
            <div class="p-8 bg-gray-900 rounded-xl shadow-lg">
                <div class="text-yellow-400 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.636 18.364a9 9 0 010-12.728m12.728 0a9 9 0 010 12.728m-9.9-2.829a5 5 0 010-7.07m7.072 0a5 5 0 010 7.07M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                </div>
                <h3 class="text-2xl font-black mb-2 text-white break-words">Konzentrationskiller</h3>
                <p>Ständiger Lärm und visuelle Ablenkungen torpedieren deinen Flow-State.</p>
            </div>
            <div class="p-8 bg-gray-900 rounded-xl shadow-lg">
                <div class="text-yellow-400 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                </div>
                <h3 class="text-2xl font-black mb-2 text-white">Spontaneität fehlt</h3>
                <p>Du brauchst jetzt einen ruhigen Ort, nicht erst nach langer Suche oder Buchung.</p>
            </div>
            <div class="p-8 bg-gray-900 rounded-xl shadow-lg">
                <div class="text-yellow-400 mb-4">
                    <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path></svg>
                </div>
                <h3 class="text-2xl font-black mb-2 text-white">Privatsphäre ist Luxus</h3>
                <p>Wichtige Gespräche führt man ungern mit fremden Zuhörern.</p>
            </div>
        </div>
    </div>
</section>

<!-- Solution Section -->
<section class="py-20 bg-gray-900 section-fade-in">
    <div class="container mx-auto px-6">
        <div class="md:flex items-center gap-16">
            <div class="md:w-1/2">
                <img src="pod-concept.png" alt="Innenansicht eines modernen, minimalistischen Pods" class="rounded-lg shadow-2xl transform hover:scale-105 transition-transform duration-500">
            </div>
            <div class="md:w-1/2 mt-8 md:mt-0">
                <h2 class="text-4xl font-black text-white mb-4">Dein <span class="yellow-highlight">persönlicher Raum</span> auf Abruf.</h2>
                <p class="text-gray-300 mb-8">Silent City ist ein Netzwerk privater Pods, die du per App findest, buchst und öffnest. Einfach, intuitiv und genau dann, wenn du sie brauchst.</p>
                <div class="space-y-6">
                    <div class="flex items-center">
                        <div class="flex-shrink-0 h-12 w-12 rounded-full bg-yellow-400 text-gray-900 flex items-center justify-center font-black text-2xl">1</div>
                        <div class="ml-4">
                            <h3 class="text-xl font-black text-white">Finden</h3>
                            <p class="text-gray-400">Öffne die App und sieh alle freien Pods in deiner unmittelbaren Nähe.</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="flex-shrink-0 h-12 w-12 rounded-full bg-yellow-400 text-gray-900 flex items-center justify-center font-black text-2xl">2</div>
                        <div class="ml-4">
                            <h3 class="text-xl font-black text-white">Buchen</h3>
                            <p class="text-gray-400">Reserviere minutengenau oder für mehrere Stunden.</p>
                        </div>
                    </div>
                    <div class="flex items-center">
                        <div class="flex-shrink-0 h-12 w-12 rounded-full bg-yellow-400 text-gray-900 flex items-center justify-center font-black text-2xl">3</div>
                        <div class="ml-4">
                            <h3 class="text-xl font-black text-white">Entsperren</h3>
                            <p class="text-gray-400">Öffne die Tür mit deinem Smartphone und tritt ein in deine Fokus-Zone.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Slogan Section -->
<section class="min-h-screen flex items-center justify-center bg-yellow-400 text-gray-900 section-fade-in">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-4xl md:text-5xl font-black mb-4">Ich bin, was du aus mir machst.</h2>
        <p class="text-2xl font-black max-w-4xl mx-auto">
            Ich bin <span class="highlight-bordeaux">Deep Work</span>. Ich bin ein <span class="highlight-bordeaux">wichtiger Call</span>. <br />Ich bin deine <span class="highlight-bordeaux">nächste große Idee.</span>.
        </p>
    </div>
</section>

<!-- Main Validation Section -->
<section id="validation-gate" class="py-20 bg-gray-800 section-fade-in">
    <div class="container mx-auto px-6 text-center">
        <!-- Features & Pricing Sub-section -->
        <div class="mb-16">
            <h2 class="text-4xl font-black text-white mb-4">Perfekt ausgestattet für deinen Moment.</h2>
            <p class="text-gray-300 max-w-2xl mx-auto mb-12">Jeder Pod ist deine persönliche High-Performance-Kammer. Kein Schnickschnack, nur das, was du wirklich brauchst.</p>
            <div class="max-w-4xl mx-auto bg-gray-900 rounded-lg shadow-xl p-8 md:flex items-center">
                <div class="md:w-1/2">
                    <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?q=80&w=2811&auto=format&fit=crop" alt="Detailansicht der Ausstattung: Tisch, Steckdose, Licht" class="rounded-lg shadow-md mb-6 md:mb-0">
                </div>
                <div class="md:w-1/2 md:pl-10 text-left">
                    <ul class="space-y-4 text-gray-200 mb-8">
                        <li class="flex items-center text-lg"><svg class="w-6 h-6 text-yellow-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="font-bold">Schallisoliert</span><span class="ml-2 font-semibold">für absolute Ruhe</span></li>
                        <li class="flex items-center text-lg"><svg class="w-6 h-6 text-yellow-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="font-bold">Strom & High-Speed WLAN</span></li>
                        <li class="flex items-center text-lg"><svg class="w-6 h-6 text-yellow-400 mr-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="font-bold">Belüftung & Fokus-Licht</span></li>
                    </ul>
                    <div class="bg-gray-800 p-6 rounded-lg text-center border-2 border-yellow-400">
                        <p class="text-lg text-gray-300">Verfügbar ab</p>
                        <p class="text-5xl font-black text-yellow-400 my-2">0,15 €</p>
                        <p class="text-gray-400">pro Minute</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map CTA Sub-section -->
        <div id="map-cta-section" class="mt-20">
            <h2 class="text-4xl font-black text-white mb-4">Finde einen Pod in deiner Nähe.</h2>
            <p class="text-gray-300 max-w-2xl mx-auto mb-0">Klicke auf die Karte, um verfügbare Pods in Berlin zu entdecken und deinen privaten Raum zu buchen.</p>
            <div id="map-container" class="max-w-lg mx-auto">
                <img id="map-placeholder" src="map.png" alt="Platzhalter-Karte von Berlin" class="w-full rm-open-popup">
            </div>
        </div>
    </div>
</section>

<!-- Partner Section -->
<section id="partner" class="py-20 bg-gray-900 section-fade-in">
    <div class="container mx-auto px-6 text-center">
        <h2 class="text-4xl font-black text-white mb-4">Die Zukunft ist <span class="yellow-highlight">Private Space on Demand.</span></h2>
        <p class="text-gray-300 max-w-3xl mx-auto mb-8">Werden Sie Teil unserer Vision. Bieten Sie Ihren Kunden, Gästen oder Mitarbeitern einen einzigartigen Service und werden Sie zum Hotspot für Produktivität und Ruhe in Ihrer Nachbarschaft.</p>
        <a href="partner.html" id="partner-cta-bottom" class="cta-button bg-white text-gray-900 text-lg py-4 px-10 rounded-lg border border-gray-300 shadow-md hover:bg-gray-200">Jetzt Partner werden</a>
    </div>
</section>

<!-- Consent Blocker -->
<div id="consent-blocker" class="fixed inset-0 bg-black/80 z-40" style="display: none;"></div>

<!-- Consent Banner -->
<div id="consent-banner" class="fixed bottom-0 left-0 right-0 bg-gray-900 p-5 shadow-2xl z-50" style="display: none;">
    <div class="container mx-auto md:flex items-center justify-between">
        <p class="text-gray-300 mb-4 md:mb-0 md:mr-6">Um unsere Seite zu verbessern und die besten Standorte für unsere Pods zu finden, nutzen wir Analyse-Tools. Mit Ihrer Zustimmung helfen Sie uns dabei. Mehr dazu erfahren Sie in unserer <a href='datenschutz.html' target='_blank' class='underline text-yellow-400 hover:text-yellow-300'>Datenschutzerklärung</a>.</p>
        <div class="flex-shrink-0 flex gap-4">
            <button id="consent-accept" class="bg-yellow-400 text-gray-900 font-bold py-2 px-6 rounded-lg">Akzeptieren</button>
            <button id="consent-decline" class="bg-gray-700 text-white font-bold py-2 px-6 rounded-lg">Ablehnen</button>
        </div>
    </div>
</div>

<!-- Opt-Out Modal -->
<div id="opt-out-modal" class="fixed inset-0 bg-black/70 flex items-center justify-center p-6 z-50" style="display: none;">
    <div class="bg-gray-800 p-8 rounded-lg max-w-md text-center">
        <form id="opt-out-form">
            <h3 class="text-2xl font-bold text-white mb-4">Datenlöschung anfordern</h3>
            <p class="text-gray-300 mb-6">Bitte geben Sie Ihre E-Mail-Adresse ein, um die Löschung aller mit Ihnen verbundenen Daten anzufordern. Diese Aktion kann nicht rückgängig gemacht werden.</p>
            <input type="email" id="opt-out-email" placeholder="deine.email@adresse.de" required class="w-full p-4 bg-gray-700 border border-gray-600 rounded-lg mb-6 focus:ring-2 focus:ring-yellow-400 text-white text-lg">
            <div class="flex justify-center gap-4">
                <button type="button" id="opt-out-cancel" class="bg-gray-600 text-white font-bold py-2 px-8 rounded-lg">Abbrechen</button>
                <button type="submit" id="opt-out-confirm" class="bg-red-600 text-white font-bold py-2 px-8 rounded-lg">Löschung anfordern</button>
            </div>
        </form>
    </div>
</div>


<!-- Footer -->
<footer class="bg-black py-10">
    <div class="container mx-auto px-6 text-center text-gray-500">
        <p>&copy; 2025 Silent City. Alle Rechte vorbehalten.</p>
        <div class="mt-4">
            <a href="impressum.html" target="_blank" id="impressum-link" class="hover:text-yellow-400 mx-3">Impressum</a>
            <a href="datenschutz.html" id="datenschutz-link" target="_blank" class="hover:text-yellow-400 mx-3">Datenschutz</a>
            <a href="#" id="opt-out-link" class="hover:text-yellow-400 mx-3">Daten löschen</a>
        </div>
    </div>
</footer>

<script>
    // --- CONFIG ---
    const API_URL = 'http://localhost:3000';
    const CONSENT_KEY = 'silentCityConsent';

    // --- TRACKING LOGIC (will only be initialized after consent) ---
    let isTrackingInitialized = false;

    function initializeTracking() {
        if (isTrackingInitialized) return;

        // Initialize PostHog
        if (typeof POSTHOG_API_KEY !== 'undefined' && POSTHOG_API_KEY !== "YOUR_POSTHOG_API_KEY") {
            const userId = localStorage.getItem('silentCityUserId') || crypto.randomUUID();
            localStorage.setItem('silentCityUserId', userId);

            posthog.init(POSTHOG_API_KEY, {
                api_host: POSTHOG_HOST,
                loaded: function(posthog) {
                    posthog.identify(userId);
                }
            });
        } else {
            console.warn("PostHog API Key is not configured. Tracking is disabled.");
            window.posthog = { capture: () => {} }; // Create a dummy object to avoid errors
        }

        // Add event listeners that depend on tracking
        document.getElementById('partner-link').addEventListener('click', () => posthog.capture('partner_link_clicked_top'));
        document.getElementById('hero-cta').addEventListener('click', () => posthog.capture('hero_cta_clicked'));
        document.getElementById('partner-cta-bottom').addEventListener('click', () => posthog.capture('partner_cta_clicked_bottom'));
        document.getElementById('impressum-link').addEventListener('click', () => posthog.capture('impressum_link_clicked'));
        document.getElementById('datenschutz-link').addEventListener('click', () => posthog.capture('datenschutz_link_clicked'));
        document.getElementById('map-placeholder').addEventListener('click', () => posthog.capture('map_clicked_and_popup_opened'));

        document.querySelectorAll('.section-fade-in').forEach(section => {
            new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if(entry.target.classList.contains('visible')) {
                            posthog.capture('section_viewed', { sectionId: entry.target.id || 'unknown' });
                            observer.unobserve(entry.target);
                        }
                    }
                });
            }, { threshold: 0.25 }).observe(section);
        });

        isTrackingInitialized = true;
        console.log("Tracking initialized.");
    }

    // --- CONSENT MANAGEMENT ---
    document.addEventListener('DOMContentLoaded', () => {
        const consent = localStorage.getItem(CONSENT_KEY);
        const consentBanner = document.getElementById('consent-banner');
        const consentBlocker = document.getElementById('consent-blocker');

        if (consent === 'granted') {
            initializeTracking();
        } else if (consent === 'denied') {
            // Do nothing, tracking is off
        } else {
            consentBanner.style.display = 'block';
            consentBlocker.style.display = 'block';
        }

        document.getElementById('consent-accept').addEventListener('click', () => {
            localStorage.setItem(CONSENT_KEY, 'granted');
            consentBanner.style.display = 'none';
            consentBlocker.style.display = 'none';
            initializeTracking();
        });

        document.getElementById('consent-decline').addEventListener('click', () => {
            // localStorage.setItem(CONSENT_KEY, 'denied'); // Correctly commented out
            consentBanner.style.display = 'none';
            consentBlocker.style.display = 'none';
        });
    });

    // --- Opt-Out Logic ---
    const optOutModal = document.getElementById('opt-out-modal');
    document.getElementById('opt-out-link').addEventListener('click', (e) => {
        e.preventDefault();
        optOutModal.style.display = 'flex';
    });
    document.getElementById('opt-out-cancel').addEventListener('click', () => {
        optOutModal.style.display = 'none';
    });
    document.getElementById('opt-out-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('opt-out-email').value;
        const userId = localStorage.getItem('silentCityUserId'); // Optional, might be null

        try {
            await fetch(`${API_URL}/opt-out`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, userId })
            });

            if (userId) {
                localStorage.removeItem('silentCityUserId');
                localStorage.removeItem(CONSENT_KEY);
                if(window.posthog) {
                    posthog.reset();
                }
            }
            alert('Ihre Anfrage zur Datenlöschung wurde empfangen. Alle lokalen Tracking-Daten wurden entfernt.');
        } catch (error) {
            console.error('Opt-out error:', error);
            alert('Ein Fehler ist aufgetreten. Bitte versuchen Sie es später erneut.');
        }
        optOutModal.style.display = 'none';
    });

    // --- General UI Logic ---
    const sections = document.querySelectorAll('.section-fade-in');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });
    sections.forEach(section => { observer.observe(section); });
</script>
</body>
</html>
